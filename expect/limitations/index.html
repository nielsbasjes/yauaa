<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.110.0"><meta name=description content="This is a java library that tries to parse and analyze the useragent string (and when available the User-Agent Client Hints) and extract as many relevant attributes as possible."><meta name=author content="Niels Basjes"><link rel=apple-touch-icon sizes=180x180 href=/favicon/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon/favicon-16x16.png><link rel=manifest href=/favicon/manifest.json><link rel=mask-icon href=/favicon/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#2d89ef"><meta name=msapplication-TileImage content="/favicon/mstile-144x144.png"><meta name=theme-color content="#ffffff"><title>Limitations | Yauaa - Yet Another UserAgent Analyzer</title><link href=/css/nucleus.css?1676600537 rel=stylesheet><link href=/css/fontawesome-all.min.css?1676600537 rel=stylesheet><link href=/css/hybrid.css?1676600537 rel=stylesheet><link href=/css/featherlight.min.css?1676600537 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1676600537 rel=stylesheet><link href=/css/auto-complete.css?1676600537 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1676600537 rel=stylesheet><link href=/css/theme.css?1676600537 rel=stylesheet><link href=/css/tabs.css?1676600537 rel=stylesheet><link href=/css/hugo-theme.css?1676600537 rel=stylesheet><link href=/css/theme-yauaa.css?1676600537 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1676600537></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}:not(pre)>code+span.copy-to-clipboard{display:none}</style><script type=text/javascript>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){t="https://wa.basjes.nl/",_paq.push(["setTrackerUrl",t+"wa.php"]),_paq.push(["setSiteId","1"]);var t,n=document,e=n.createElement("script"),s=n.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src=t+"wa.js",s.parentNode.insertBefore(e,s)}()</script></head><body data-url=/expect/limitations/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=/><p class=logo-bar>Yauaa</p></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1676600537></script>
<script type=text/javascript src=/js/auto-complete.js?1676600537></script>
<script type=text/javascript>var baseurl="/"</script><script type=text/javascript src=/js/search.js?1676600537></script></div><section id=homelinks><ul><li><a class=padding href=/><i class='fas fa-home'></i> Yauaa</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/expect/ title="What to expect" class="dd-item
parent"><a href=/expect/>What to expect</a><ul><li data-nav-id=/expect/fieldvalues/ title="Field values" class=dd-item><a href=/expect/fieldvalues/>Field values</a></li><li data-nav-id=/expect/performance/ title=Performance class=dd-item><a href=/expect/performance/>Performance</a></li><li data-nav-id=/expect/limitations/ title=Limitations class="dd-item active"><a href=/expect/limitations/>Limitations</a></li><li data-nav-id=/expect/manipulations/ title=Manipulations class=dd-item><a href=/expect/manipulations/>Manipulations</a></li><li data-nav-id=/expect/tryit/ title="Try it!" class=dd-item><a href=/expect/tryit/>Try it!</a></li></ul></li><li data-nav-id=/using/ title="Using the analyzer" class=dd-item><a href=/using/>Using Yauaa</a><ul><li data-nav-id=/using/clienthints/ title="User-Agent Client Hints" class=dd-item><a href=/using/clienthints/>User-Agent Client Hints</a></li><li data-nav-id=/using/memoryusage/ title="Memory usage" class=dd-item><a href=/using/memoryusage/>Memory usage</a></li><li data-nav-id=/using/webservlet/ title="The demonstration webservlet" class=dd-item><a href=/using/webservlet/>Webservlet</a></li><li data-nav-id=/using/kubernetes/ title=Kubernetes class=dd-item><a href=/using/kubernetes/>Kubernetes</a></li><li data-nav-id=/using/license/ title=Licence class=dd-item><a href=/using/license/>Licence</a></li></ul></li><li data-nav-id=/udf/ title="User Defined Functions" class=dd-item><a href=/udf/>User Defined Functions</a><ul><li data-nav-id=/udf/apache-beam/ title="Apache Beam" class=dd-item><a href=/udf/apache-beam/>Apache Beam</a></li><li data-nav-id=/udf/apache-beam-sql/ title="Apache Beam SQL" class=dd-item><a href=/udf/apache-beam-sql/>Apache Beam SQL</a></li><li data-nav-id=/udf/apache-drill/ title="Apache Drill" class=dd-item><a href=/udf/apache-drill/>Apache Drill</a></li><li data-nav-id=/udf/apache-flink/ title="Apache Flink" class=dd-item><a href=/udf/apache-flink/>Apache Flink</a></li><li data-nav-id=/udf/apache-flink-table/ title="Apache Flink Table/SQL" class=dd-item><a href=/udf/apache-flink-table/>Apache Flink Table/SQL</a></li><li data-nav-id=/udf/apache-hive/ title="Apache Hive" class=dd-item><a href=/udf/apache-hive/>Apache Hive</a></li><li data-nav-id=/udf/apache-nifi/ title="Apache Nifi" class=dd-item><a href=/udf/apache-nifi/>Apache Nifi</a></li><li data-nav-id=/udf/apache-pig/ title="Apache Pig" class=dd-item><a href=/udf/apache-pig/>Apache Pig</a></li><li data-nav-id=/udf/commandline/ title="Commandline usage" class=dd-item><a href=/udf/commandline/>Commandline usage</a></li><li data-nav-id=/udf/elastic-logstash/ title="Elastic LogStash" class=dd-item><a href=/udf/elastic-logstash/>Elastic LogStash</a></li><li data-nav-id=/udf/elastic-search/ title="Elastic Search" class=dd-item><a href=/udf/elastic-search/>Elastic Search</a></li><li data-nav-id=/udf/logparser/ title=LogParser class=dd-item><a href=/udf/logparser/>LogParser</a></li><li data-nav-id=/udf/snowflake/ title=Snowflake class=dd-item><a href=/udf/snowflake/>Snowflake</a></li><li data-nav-id=/udf/snowplow/ title=Snowplow class=dd-item><a href=/udf/snowplow/>Snowplow</a></li><li data-nav-id=/udf/trino/ title=Trino class=dd-item><a href=/udf/trino/>Trino</a></li></ul></li><li data-nav-id=/developer/ title=Development class=dd-item><a href=/developer/>Development</a><ul><li data-nav-id=/developer/building/ title="Building from source" class=dd-item><a href=/developer/building/>Building from source</a></li><li data-nav-id=/developer/basedesign/ title="Base Design" class=dd-item><a href=/developer/basedesign/>Base Design</a></li><li data-nav-id=/developer/makingnewrules/ title="Making new rules" class=dd-item><a href=/developer/makingnewrules/>Making new rules</a></li><li data-nav-id=/developer/shadingdependencies/ title="Shading dependencies" class=dd-item><a href=/developer/shadingdependencies/>Shading dependencies</a></li><li data-nav-id=/developer/reportingissues/ title="Reporting issues" class=dd-item><a href=/developer/reportingissues/>Reporting issues</a></li></ul></li><li data-nav-id=/other/ title=Other class=dd-item><a href=/other/>Other</a><ul><li data-nav-id=/other/article/ title=Blogpost class=dd-item><a href=/other/article/>Blogpost</a></li><li data-nav-id=/other/relatedprojects/ title="Related projects" class=dd-item><a href=/other/relatedprojects/>Related projects</a></li></ul></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://github.com/nielsbasjes/yauaa><i class='fab fa-git-square'></i> Git repo</a></li><li><a class=padding href=https://github.com/nielsbasjes/yauaa/discussions><i class='fa fa-comment-alt'></i> Discussions</a></li><li><a class=padding href=https://github.com/nielsbasjes/yauaa/blob/main/CHANGELOG.md><i class='fa fa-file-alt'></i> Changelog</a></li><li><a class=padding href=https://github.com/nielsbasjes/yauaa/issues><i class='fa fa-bug'></i> Issue tracker</a></li><li><a class=padding href=https://github.com/nielsbasjes/yauaa/actions><img alt="Github actions Build status" src="https://img.shields.io/github/actions/workflow/status/nielsbasjes/yauaa/build.yml?branch=main"></a></li><li><a class=padding href=https://app.codecov.io/gh/nielsbasjes/yauaa><img alt="Coverage Status" src=https://img.shields.io/codecov/c/github/nielsbasjes/yauaa></a></li><li><a class=padding href=https://www.apache.org/licenses/LICENSE-2.0.html><img alt=License src=https://img.shields.io/:license-apache-blue.svg></a></li><li><a class=padding href=https://search.maven.org/#search%7Cga%7C1%7Cg%3A%22nl.basjes.parse.useragent%22><img alt="Maven Central" src=https://img.shields.io/maven-central/v/nl.basjes.parse.useragent/yauaa-parent.svg></a></li><li><a class=padding href=https://github.com/nielsbasjes/yauaa/stargazers><img alt="GitHub stars" src="https://img.shields.io/github/stars/nielsbasjes/yauaa?label=GitHub%20stars"></a></li><li><a class=padding href=https://hub.docker.com/r/nielsbasjes/yauaa><img alt="Docker Hub" src=https://img.shields.io/docker/pulls/nielsbasjes/yauaa></a></li><li><a class=padding href=https://www.paypal.me/nielsbasjes><img alt="If this project has business value for you then dont hesitate to support me with a small donation." src=https://img.shields.io/badge/Donations-via%20Paypal-blue.svg></a></li></ul></section><section id=footer><p>&copy;2013-2023 by <a href=https://niels.basjes.nl>Niels Basjes</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title='Edit this page' href=https://github.com/nielsbasjes/yauaa/tree/main/documentation/content/expect/Limitations.md target=blank><i class="fas fa-code-branch"></i>
<span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/>Yauaa: Yet Another UserAgent Analyzer</a> > <a href=/expect/>What to expect</a> > Limitations</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#it-only-analyzes-the-provided-string>It only analyzes the provided string</a></li><li><a href=#unexpected-differences>Unexpected differences</a></li><li><a href=#some-are-simply-incorrect>Some are simply incorrect</a></li><li><a href=#device-name-and-device-brand>Device Name and Device Brand</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Limitations</h1><h2 id=it-only-analyzes-the-provided-string>It only analyzes the provided string</h2><p>This system is based on analyzing the useragent string and looking for the patterns in the useragent string as they have been defined by parties like Google, Microsoft, Samsung and many others. These have been augmented with observations how developers apparently do things. There are really no (ok, very limited) lookup tables that define if a certain device name is a Phone or a Tablet. This makes this system very maintainable because there is no need to have a list of all possible devices.</p><p>As a consequence if a useragent does not follow these patterns the analysis will yield the &lsquo;wrong&rsquo; answer.
Take for example these two (both were found exactly as shown here in the logs of a live website):</p><pre><code>Mozilla/5.0 (Linux; Android 5.1; SAMSUNG-T805s Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/45.0.2454.94 Mobile Safari/537.36
Mozilla/5.0 (Linux; Android 4.4.2; SAMSUNG-T805S Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.89 Safari/537.36
</code></pre><p>The difference between &ldquo;Mobile Safari&rdquo; and &ldquo;Safari&rdquo; has been defined for Google Chrome as the difference between &ldquo;Phone&rdquo; and &ldquo;Tablet&rdquo; (see the <a href=https://developer.chrome.com/multidevice/user-agent>Chrome documentation</a> on this).</p><p>And as you can see in this example: we sometimes get it wrong (The <code>Samsung T805s</code> is in reality a Tablet).
The impact in this case is however very limited: Of the 445 visitors I found using this device only 2 were classified wrong all others were correct.</p><h2 id=unexpected-differences>Unexpected differences</h2><p>Some cases that seem very similar to the previous example are in a way correct.</p><p>Take for example the Samsung Galaxy S8 (SM-G950F) which is a Phone.</p><p>In normal use the Useragent looks like this:</p><pre><code>Mozilla/5.0 (Linux; Android 9; SM-G950F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Mobile Safari/537.36
</code></pre><p>when this device is connected to a computer screen then &ldquo;Samsung Dex&rdquo; (Dex = Desktop Experience) takes over and the screen layout and usage of the phone changes dramatically.</p><pre><code>Mozilla/5.0 (Linux; Android 9; SM-G950F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36
</code></pre><p>This time the change (from <code>Mobile Safari</code> to just <code>Safari</code>) indicates the device is to be treated as a <code>Tablet</code> because the screen size and ways of interacting have changed.</p><h2 id=some-are-simply-incorrect>Some are simply incorrect</h2><p>When the Samsung Browser is installed on a non-Samsung device (in this example a Google Nexus 6) you get this:</p><pre><code>Mozilla/5.0 (Linux; Android 7.0; SAMSUNG Nexus 6 Build/NBD92G) AppleWebKit/537.36 (KHTML, like Gecko) SamsungBrowser/5.4 Chrome/51.0.2704.106 Mobile Safari/537.36
</code></pre><p>As you can see this browser assumes it is only installed on Samsung devices so they &lsquo;force&rsquo; the word Samsung in there.
In this case you will see this being reported as a &ldquo;Samsung Nexus 6&rdquo;, which is obviously wrong.</p><p>Note that this specific case with the <code>SamsungBrowser</code> has now been fixed with a set of additional rules so this one is now correctly reported as a <code>Google Nexus 6</code>.</p><h2 id=device-name-and-device-brand>Device Name and Device Brand</h2><p>The detection of the brand and name of the device are the most brittle and unreliable part of the output.</p><p>There are a few reasons for this:</p><ol><li>There are a LOT of different devices from a LOT of vendors.
To give you an impression; In november 2018 I did a count on the index page of <a href=https://deviceatlas.com/device-data/devices>DeviceAtlas</a> and found over 4100 brands and a total of over 55000 different devices.</li><li>In most cases the useragent string ONLY include the model of the device and NOT the brand. So you need to be able to determine JUST from the model what brand it was.</li><li>This system tries to limit the number of lookup tables and rely on patterns as much as possible. As a consequence I really do not want to have a complete list of all devices in here. So what are the patterns in the mapping from model to brand?</li><li>I did an analysis on some of these brands and found that Acer, Lenovo, LG and QMobile all have a device called &lsquo;A200&rsquo;.
So if the useragent only contains &lsquo;A200&rsquo; there is no way to determine what device it really was.</li></ol><p>So as a consequence I have chosen to limit this detection to</p><ol><li>Brands that are included as the first word in the appropriate field.</li><li>Special cases (like robots)</li><li>The &ldquo;most used brands&rdquo; as good as possible.</li></ol><p><strong>WARNING</strong>: The detection of DeviceBrand will therefore never be complete and accurate.</p><footer class=footline></footer></div></div><div id=navigation></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1676600537></script>
<script src=/js/perfect-scrollbar.min.js?1676600537></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1676600537></script>
<script src=/js/jquery.sticky.js?1676600537></script>
<script src=/js/featherlight.min.js?1676600537></script>
<script src=/js/highlight.pack.js?1676600537></script>
<script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js?1676600537></script>
<script src=/js/learn.js?1676600537></script>
<script src=/js/hugo-learn.js?1676600537></script></body></html>