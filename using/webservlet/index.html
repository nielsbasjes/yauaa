<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.103.1"><meta name=description content="This is a java library that tries to parse and analyze the useragent string (and when available the User-Agent Client Hints) and extract as many relevant attributes as possible."><meta name=author content="Niels Basjes"><link rel=apple-touch-icon sizes=180x180 href=/favicon/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon/favicon-16x16.png><link rel=manifest href=/favicon/manifest.json><link rel=mask-icon href=/favicon/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#2d89ef"><meta name=msapplication-TileImage content="/favicon/mstile-144x144.png"><meta name=theme-color content="#ffffff"><title>The demonstration webservlet | Yauaa - Yet Another UserAgent Analyzer</title><link href=/css/nucleus.css?1663579642 rel=stylesheet><link href=/css/fontawesome-all.min.css?1663579642 rel=stylesheet><link href=/css/hybrid.css?1663579642 rel=stylesheet><link href=/css/featherlight.min.css?1663579642 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1663579642 rel=stylesheet><link href=/css/auto-complete.css?1663579642 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1663579642 rel=stylesheet><link href=/css/theme.css?1663579642 rel=stylesheet><link href=/css/tabs.css?1663579642 rel=stylesheet><link href=/css/hugo-theme.css?1663579642 rel=stylesheet><link href=/css/theme-yauaa.css?1663579642 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1663579642></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}:not(pre)>code+span.copy-to-clipboard{display:none}</style><script type=text/javascript>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){t="https://wa.basjes.nl/",_paq.push(["setTrackerUrl",t+"wa.php"]),_paq.push(["setSiteId","1"]);var t,n=document,e=n.createElement("script"),s=n.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src=t+"wa.js",s.parentNode.insertBefore(e,s)}()</script></head><body data-url=/using/webservlet/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=/><p class=logo-bar>Yauaa</p></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1663579642></script>
<script type=text/javascript src=/js/auto-complete.js?1663579642></script>
<script type=text/javascript>var baseurl="/"</script><script type=text/javascript src=/js/search.js?1663579642></script></div><section id=homelinks><ul><li><a class=padding href=/><i class='fas fa-home'></i> Yauaa</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/expect/ title="What to expect" class=dd-item><a href=/expect/>What to expect</a><ul><li data-nav-id=/expect/fieldvalues/ title="Field values" class=dd-item><a href=/expect/fieldvalues/>Field values</a></li><li data-nav-id=/expect/performance/ title=Performance class=dd-item><a href=/expect/performance/>Performance</a></li><li data-nav-id=/expect/limitations/ title=Limitations class=dd-item><a href=/expect/limitations/>Limitations</a></li><li data-nav-id=/expect/manipulations/ title=Manipulations class=dd-item><a href=/expect/manipulations/>Manipulations</a></li><li data-nav-id=/expect/tryit/ title="Try it!" class=dd-item><a href=/expect/tryit/>Try it!</a></li></ul></li><li data-nav-id=/using/ title="Using the analyzer" class="dd-item
parent"><a href=/using/>Using Yauaa</a><ul><li data-nav-id=/using/clienthints/ title="User-Agent Client Hints" class=dd-item><a href=/using/clienthints/>User-Agent Client Hints</a></li><li data-nav-id=/using/memoryusage/ title="Memory usage" class=dd-item><a href=/using/memoryusage/>Memory usage</a></li><li data-nav-id=/using/webservlet/ title="The demonstration webservlet" class="dd-item active"><a href=/using/webservlet/>Webservlet</a></li><li data-nav-id=/using/kubernetes/ title=Kubernetes class=dd-item><a href=/using/kubernetes/>Kubernetes</a></li><li data-nav-id=/using/license/ title=Licence class=dd-item><a href=/using/license/>Licence</a></li></ul></li><li data-nav-id=/udf/ title="User Defined Functions" class=dd-item><a href=/udf/>User Defined Functions</a><ul><li data-nav-id=/udf/apache-beam/ title="Apache Beam" class=dd-item><a href=/udf/apache-beam/>Apache Beam</a></li><li data-nav-id=/udf/apache-beam-sql/ title="Apache Beam SQL" class=dd-item><a href=/udf/apache-beam-sql/>Apache Beam SQL</a></li><li data-nav-id=/udf/apache-drill/ title="Apache Drill" class=dd-item><a href=/udf/apache-drill/>Apache Drill</a></li><li data-nav-id=/udf/apache-flink/ title="Apache Flink" class=dd-item><a href=/udf/apache-flink/>Apache Flink</a></li><li data-nav-id=/udf/apache-flink-table/ title="Apache Flink Table/SQL" class=dd-item><a href=/udf/apache-flink-table/>Apache Flink Table/SQL</a></li><li data-nav-id=/udf/apache-hive/ title="Apache Hive" class=dd-item><a href=/udf/apache-hive/>Apache Hive</a></li><li data-nav-id=/udf/apache-nifi/ title="Apache Nifi" class=dd-item><a href=/udf/apache-nifi/>Apache Nifi</a></li><li data-nav-id=/udf/apache-pig/ title="Apache Pig" class=dd-item><a href=/udf/apache-pig/>Apache Pig</a></li><li data-nav-id=/udf/commandline/ title="Commandline usage" class=dd-item><a href=/udf/commandline/>Commandline usage</a></li><li data-nav-id=/udf/elastic-logstash/ title="Elastic LogStash" class=dd-item><a href=/udf/elastic-logstash/>Elastic LogStash</a></li><li data-nav-id=/udf/elastic-search/ title="Elastic Search" class=dd-item><a href=/udf/elastic-search/>Elastic Search</a></li><li data-nav-id=/udf/logparser/ title=LogParser class=dd-item><a href=/udf/logparser/>LogParser</a></li><li data-nav-id=/udf/snowflake/ title=Snowflake class=dd-item><a href=/udf/snowflake/>Snowflake</a></li><li data-nav-id=/udf/snowplow/ title=Snowplow class=dd-item><a href=/udf/snowplow/>Snowplow</a></li><li data-nav-id=/udf/trino/ title=Trino class=dd-item><a href=/udf/trino/>Trino</a></li></ul></li><li data-nav-id=/developer/ title=Development class=dd-item><a href=/developer/>Development</a><ul><li data-nav-id=/developer/building/ title="Building from source" class=dd-item><a href=/developer/building/>Building from source</a></li><li data-nav-id=/developer/basedesign/ title="Base Design" class=dd-item><a href=/developer/basedesign/>Base Design</a></li><li data-nav-id=/developer/makingnewrules/ title="Making new rules" class=dd-item><a href=/developer/makingnewrules/>Making new rules</a></li><li data-nav-id=/developer/shadingdependencies/ title="Shading dependencies" class=dd-item><a href=/developer/shadingdependencies/>Shading dependencies</a></li><li data-nav-id=/developer/reportingissues/ title="Reporting issues" class=dd-item><a href=/developer/reportingissues/>Reporting issues</a></li></ul></li><li data-nav-id=/other/ title=Other class=dd-item><a href=/other/>Other</a><ul><li data-nav-id=/other/article/ title=Blogpost class=dd-item><a href=/other/article/>Blogpost</a></li><li data-nav-id=/other/relatedprojects/ title="Related projects" class=dd-item><a href=/other/relatedprojects/>Related projects</a></li></ul></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://github.com/nielsbasjes/yauaa><i class='fab fa-git-square'></i> Git repo</a></li><li><a class=padding href=https://github.com/nielsbasjes/yauaa/discussions><i class='fa fa-comment-alt'></i> Discussions</a></li><li><a class=padding href=https://github.com/nielsbasjes/yauaa/blob/main/CHANGELOG.md><i class='fa fa-file-alt'></i> Changelog</a></li><li><a class=padding href=https://github.com/nielsbasjes/yauaa/issues><i class='fa fa-bug'></i> Issue tracker</a></li><li><a class=padding href=https://github.com/nielsbasjes/yauaa/actions><img alt="Github actions Build status" src=https://img.shields.io/github/workflow/status/nielsbasjes/yauaa/Yauaa></a></li><li><a class=padding href=https://app.codecov.io/gh/nielsbasjes/yauaa><img alt="Coverage Status" src=https://img.shields.io/codecov/c/github/nielsbasjes/yauaa></a></li><li><a class=padding href=https://www.apache.org/licenses/LICENSE-2.0.html><img alt=License src=https://img.shields.io/:license-apache-blue.svg></a></li><li><a class=padding href=https://search.maven.org/#search%7Cga%7C1%7Cg%3A%22nl.basjes.parse.useragent%22><img alt="Maven Central" src=https://img.shields.io/maven-central/v/nl.basjes.parse.useragent/yauaa-parent.svg></a></li><li><a class=padding href=https://github.com/nielsbasjes/yauaa/stargazers><img alt="GitHub stars" src="https://img.shields.io/github/stars/nielsbasjes/yauaa?label=GitHub%20stars"></a></li><li><a class=padding href=https://hub.docker.com/r/nielsbasjes/yauaa><img alt="Docker Hub" src=https://img.shields.io/docker/pulls/nielsbasjes/yauaa></a></li><li><a class=padding href=https://www.paypal.me/nielsbasjes><img alt="If this project has business value for you then dont hesitate to support me with a small donation." src=https://img.shields.io/badge/Donations-via%20Paypal-blue.svg></a></li></ul></section><section id=footer><p>&copy;2013-2022 by <a href=https://niels.basjes.nl>Niels Basjes</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title='Edit this page' href=https://github.com/nielsbasjes/yauaa/tree/main/documentation/content/using/WebServlet.md target=blank><i class="fas fa-code-branch"></i>
<span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/>Yauaa: Yet Another UserAgent Analyzer</a> > <a href=/using/>Using the analyzer</a> > The demonstration webservlet</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#docker>Docker</a></li><li><a href=#custom-rules>Custom rules</a></li></ul><ul><li><a href=#rest>REST</a></li><li><a href=#graphql>GraphQL</a><ul><li><a href=#base-query>Base query</a></li><li><a href=#accessing-all-including-custom-fields>Accessing all (including custom) fields</a></li><li><a href=#accessing-some-including-custom-fields>Accessing some (including custom) fields</a></li><li><a href=#accessing-individual-including-custom-fields>Accessing individual (including custom) fields</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>The demonstration webservlet</h1><p>Part of the distribution is a war file that is a servlet that has a webinterface and
some APIs that allow you to try things out.</p><p>This servlet can be downloaded via</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;groupId&gt;</span>nl.basjes.parse.useragent<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;artifactId&gt;</span>yauaa-webapp<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;version&gt;</span>7.5.0<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;type&gt;</span>war<span style=color:#f92672>&lt;/type&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span></code></pre></div><p>NOTE that this is a <strong>DEMONSTRATION</strong> servlet!</p><p>It is simply the library in a servlet, no optimizations or smart memory settings have been done at all.</p><h2 id=docker>Docker</h2><p>Starting with version 5.14.1 the webservlet is also published to the central docker registry.</p><ul><li><a href=https://hub.docker.com/r/nielsbasjes/yauaa>https://hub.docker.com/r/nielsbasjes/yauaa</a></li></ul><p>So with docker installed and running on your (Linux) desktop
you should be able to so something as simple as</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker pull nielsbasjes/yauaa:7.5.0
</span></span><span style=display:flex><span>docker run -p8080:8080 nielsbasjes/yauaa:7.5.0
</span></span></code></pre></div><p>and then open</p><ul><li>http://localhost:8080/</li></ul><p>in your browser to get the output of the servlet.</p><h2 id=custom-rules>Custom rules</h2><p>The servlet supports loading your own custom rules, which can be useful to classify internal monitoring systems.
It does this by looking in the folder that start with UserAgents for yaml files (i.e. <code>file:UserAgents*/*.yaml</code> ).</p><p>Based on the docker image this can be easily done with an additional layer where your entire <code>Dockerfile</code> looks like this</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> nielsbasjes/yauaa:7.5.0</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ADD</span> InternalTraffic.yaml UserAgents/<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><p>When you build that docker image and run it the logging should contain something like this:</p><pre><code>Loading 1 rule files using expression: file:UserAgents*/*.yaml
- Preparing InternalTraffic.yaml (9608 bytes)
- Loaded  1 files in   11 msec using expression: file:UserAgents*/*.yaml
</code></pre><h1 id=doing-queries>Doing queries</h1><h2 id=rest>REST</h2><p>The webservlet has a set of REST endpoints that allow analyzing the UserAgent headers and there you can select in what kind of format you want the information returned.</p><p>Although very useful in many cases it does not support analyzing the User-Agent Client Hints.</p><h2 id=graphql>GraphQL</h2><p>Since 7.4.0 the webservlet now also has initial support for GraphQL which also supports analyzing the User-Agent Client Hints.</p><p>Because Yauaa allows the addition of more analysis rules it is to be expected that the list of fields that can be extracted is changed using configuration.</p><p>This poses 2 problems:</p><ul><li>The GraphQl standard does not have the concept of a Map/Hash/Dictionary.</li><li>The GraphQl library currently used has problems with dynamically creating the Schema (see also: <a href=https://github.com/spring-projects/spring-graphql/issues/452>https://github.com/spring-projects/spring-graphql/issues/452</a> ).</li></ul><h3 id=base-query>Base query</h3><p>The base query for analyzing a User-Agent with everything on it looks like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#66d9ef>query</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>analyze</span>(requestHeaders: {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>userAgent</span>              : <span style=color:#e6db74>&#34;Mozilla\/5.0 (X11; Linux x86_64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/103.0.0.0 Safari\/537.36&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>secChUa</span>                : <span style=color:#e6db74>&#34;\&#34;.Not\/A)Brand\&#34;;v=\&#34;99\&#34;, \&#34;Google Chrome\&#34;;v=\&#34;103\&#34;, \&#34;Chromium\&#34;;v=\&#34;103\&#34;&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>secChUaArch</span>            : <span style=color:#e6db74>&#34;\&#34;x86\&#34;&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>secChUaBitness</span>         : <span style=color:#e6db74>&#34;\&#34;64\&#34;&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>secChUaFullVersion</span>     : <span style=color:#e6db74>&#34;\&#34;103.0.5060.134\&#34;&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>secChUaFullVersionList</span> : <span style=color:#e6db74>&#34;\&#34;.Not\/A)Brand\&#34;;v=\&#34;99.0.0.0\&#34;, \&#34;Google Chrome\&#34;;v=\&#34;103.0.5060.134\&#34;, \&#34;Chromium\&#34;;v=\&#34;103.0.5060.134\&#34;&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>secChUaMobile</span>          : <span style=color:#e6db74>&#34;?0&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>secChUaModel</span>           : <span style=color:#e6db74>&#34;\&#34;\&#34;&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>secChUaPlatform</span>        : <span style=color:#e6db74>&#34;\&#34;Linux\&#34;&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>secChUaPlatformVersion</span> : <span style=color:#e6db74>&#34;\&#34;5.13.0\&#34;&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>secChUaWoW64</span>           : <span style=color:#e6db74>&#34;?0&#34;</span>
</span></span><span style=display:flex><span>  }) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>deviceClass</span>
</span></span><span style=display:flex><span>    deviceName
</span></span><span style=display:flex><span>    deviceBrand
</span></span><span style=display:flex><span>    deviceCpu
</span></span><span style=display:flex><span>    deviceCpuBits
</span></span><span style=display:flex><span>    deviceFirmwareVersion
</span></span><span style=display:flex><span>    deviceVersion
</span></span><span style=display:flex><span>    operatingSystemClass
</span></span><span style=display:flex><span>    operatingSystemName
</span></span><span style=display:flex><span>    operatingSystemVersion
</span></span><span style=display:flex><span>    operatingSystemVersionMajor
</span></span><span style=display:flex><span>    operatingSystemNameVersion
</span></span><span style=display:flex><span>    operatingSystemNameVersionMajor
</span></span><span style=display:flex><span>    layoutEngineClass
</span></span><span style=display:flex><span>    layoutEngineName
</span></span><span style=display:flex><span>    layoutEngineVersion
</span></span><span style=display:flex><span>    layoutEngineVersionMajor
</span></span><span style=display:flex><span>    layoutEngineNameVersion
</span></span><span style=display:flex><span>    layoutEngineNameVersionMajor
</span></span><span style=display:flex><span>    agentClass
</span></span><span style=display:flex><span>    agentName
</span></span><span style=display:flex><span>    agentVersion
</span></span><span style=display:flex><span>    agentVersionMajor
</span></span><span style=display:flex><span>    agentNameVersion
</span></span><span style=display:flex><span>    agentNameVersionMajor
</span></span><span style=display:flex><span>    remarkablePattern
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>which results in</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;analyze&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;deviceClass&#34;</span>: <span style=color:#e6db74>&#34;Desktop&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;deviceName&#34;</span>: <span style=color:#e6db74>&#34;Linux Desktop&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;deviceBrand&#34;</span>: <span style=color:#e6db74>&#34;Unknown&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;deviceCpu&#34;</span>: <span style=color:#e6db74>&#34;Intel x86_64&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;deviceCpuBits&#34;</span>: <span style=color:#e6db74>&#34;64&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;operatingSystemClass&#34;</span>: <span style=color:#e6db74>&#34;Desktop&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;operatingSystemName&#34;</span>: <span style=color:#e6db74>&#34;Linux&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;operatingSystemVersion&#34;</span>: <span style=color:#e6db74>&#34;5.13.0&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;operatingSystemVersionMajor&#34;</span>: <span style=color:#e6db74>&#34;5&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;operatingSystemNameVersion&#34;</span>: <span style=color:#e6db74>&#34;Linux 5.13.0&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;operatingSystemNameVersionMajor&#34;</span>: <span style=color:#e6db74>&#34;Linux 5&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;layoutEngineClass&#34;</span>: <span style=color:#e6db74>&#34;Browser&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;layoutEngineName&#34;</span>: <span style=color:#e6db74>&#34;Blink&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;layoutEngineVersion&#34;</span>: <span style=color:#e6db74>&#34;103.0&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;layoutEngineVersionMajor&#34;</span>: <span style=color:#e6db74>&#34;103&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;layoutEngineNameVersion&#34;</span>: <span style=color:#e6db74>&#34;Blink 103.0&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;layoutEngineNameVersionMajor&#34;</span>: <span style=color:#e6db74>&#34;Blink 103&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;agentClass&#34;</span>: <span style=color:#e6db74>&#34;Browser&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;agentName&#34;</span>: <span style=color:#e6db74>&#34;Chrome&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;agentVersion&#34;</span>: <span style=color:#e6db74>&#34;103.0.5060.134&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;agentVersionMajor&#34;</span>: <span style=color:#e6db74>&#34;103&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;agentNameVersion&#34;</span>: <span style=color:#e6db74>&#34;Chrome 103.0.5060.134&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;agentNameVersionMajor&#34;</span>: <span style=color:#e6db74>&#34;Chrome 103&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;remarkablePattern&#34;</span>: <span style=color:#e6db74>&#34;Unknown&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=accessing-all-including-custom-fields>Accessing all (including custom) fields</h3><p>To get to all the other fields you can simply ask for all of them:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span>{
</span></span><span style=display:flex><span>    analyze(requestHeaders: {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>userAgent</span>: <span style=color:#e6db74>&#34;TestApplication/1.2.3 (node123.datacenter.example.nl; 1234; d71922715c2bfe29343644b14a4731bf5690e66e)&#34;</span>
</span></span><span style=display:flex><span>    }) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>allFields</span>:<span style=color:#a6e22e>fields</span>{
</span></span><span style=display:flex><span>            fieldName
</span></span><span style=display:flex><span>            value
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>gives (summary, not entire list):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;analyze&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;allFields&#34;</span>: [
</span></span><span style=display:flex><span>        { <span style=color:#f92672>&#34;fieldName&#34;</span>: <span style=color:#e6db74>&#34;AgentClass&#34;</span>,            <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;Special&#34;</span> },
</span></span><span style=display:flex><span>        { <span style=color:#f92672>&#34;fieldName&#34;</span>: <span style=color:#e6db74>&#34;AgentInformationEmail&#34;</span>, <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;Unknown&#34;</span> },
</span></span><span style=display:flex><span>        { <span style=color:#f92672>&#34;fieldName&#34;</span>: <span style=color:#e6db74>&#34;AgentInformationUrl&#34;</span>,   <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;node123.datacenter.example.nl&#34;</span> },
</span></span><span style=display:flex><span>        { <span style=color:#f92672>&#34;fieldName&#34;</span>: <span style=color:#e6db74>&#34;AgentName&#34;</span>,             <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;TestApplication&#34;</span> },
</span></span><span style=display:flex><span>        { <span style=color:#f92672>&#34;fieldName&#34;</span>: <span style=color:#e6db74>&#34;AgentNameVersion&#34;</span>,      <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;TestApplication 1.2.3&#34;</span> },
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>...</span>
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>}</span>
</span></span><span style=display:flex><span>  <span style=color:#960050;background-color:#1e0010>}</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>}</span>
</span></span></code></pre></div><h3 id=accessing-some-including-custom-fields>Accessing some (including custom) fields</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span>{
</span></span><span style=display:flex><span>    analyze(requestHeaders: {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>userAgent</span>: <span style=color:#e6db74>&#34;TestApplication/1.2.3 (node123.datacenter.example.nl; 1234; d71922715c2bfe29343644b14a4731bf5690e66e)&#34;</span>
</span></span><span style=display:flex><span>    }) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>someFields</span>:<span style=color:#a6e22e>fields</span>(fieldNames: [
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;DeviceClass&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;AgentName&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;ApplicationName&#34;</span> ,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;ApplicationVersion&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;ApplicationInstance&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;ApplicationGitCommit&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;ServerName&#34;</span>]){
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>fieldName</span>
</span></span><span style=display:flex><span>            value
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>gives</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;analyze&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;someFields&#34;</span>: [
</span></span><span style=display:flex><span>        { <span style=color:#f92672>&#34;fieldName&#34;</span>: <span style=color:#e6db74>&#34;DeviceClass&#34;</span>,           <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;Robot&#34;</span> },
</span></span><span style=display:flex><span>        { <span style=color:#f92672>&#34;fieldName&#34;</span>: <span style=color:#e6db74>&#34;AgentName&#34;</span>,             <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;TestApplication&#34;</span> },
</span></span><span style=display:flex><span>        { <span style=color:#f92672>&#34;fieldName&#34;</span>: <span style=color:#e6db74>&#34;ApplicationName&#34;</span>,       <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;TestApplication&#34;</span> },
</span></span><span style=display:flex><span>        { <span style=color:#f92672>&#34;fieldName&#34;</span>: <span style=color:#e6db74>&#34;ApplicationVersion&#34;</span>,    <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;1.2.3&#34;</span> },
</span></span><span style=display:flex><span>        { <span style=color:#f92672>&#34;fieldName&#34;</span>: <span style=color:#e6db74>&#34;ApplicationInstance&#34;</span>,   <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;1234&#34;</span> },
</span></span><span style=display:flex><span>        { <span style=color:#f92672>&#34;fieldName&#34;</span>: <span style=color:#e6db74>&#34;ApplicationGitCommit&#34;</span>,  <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;d71922715c2bfe29343644b14a4731bf5690e66e&#34;</span> },
</span></span><span style=display:flex><span>        { <span style=color:#f92672>&#34;fieldName&#34;</span>: <span style=color:#e6db74>&#34;ServerName&#34;</span>,            <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;node123.datacenter.example.nl&#34;</span> }
</span></span><span style=display:flex><span>      ]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=accessing-individual-including-custom-fields>Accessing individual (including custom) fields</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span>{
</span></span><span style=display:flex><span>    analyze(requestHeaders: {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>userAgent</span>: <span style=color:#e6db74>&#34;TestApplication/1.2.3 (node123.datacenter.example.nl; 1234; d71922715c2bfe29343644b14a4731bf5690e66e)&#34;</span>
</span></span><span style=display:flex><span>    }) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>DeviceClass</span>:           <span style=color:#a6e22e>field</span>(fieldName: <span style=color:#e6db74>&#34;DeviceClass&#34;</span>)          { <span style=color:#a6e22e>value</span> }
</span></span><span style=display:flex><span>        AgentName:             <span style=color:#a6e22e>field</span>(fieldName: <span style=color:#e6db74>&#34;AgentName&#34;</span>)            { <span style=color:#a6e22e>value</span> }
</span></span><span style=display:flex><span>        ApplicationName:       <span style=color:#a6e22e>field</span>(fieldName: <span style=color:#e6db74>&#34;ApplicationName&#34;</span>)      { <span style=color:#a6e22e>value</span> }
</span></span><span style=display:flex><span>        ApplicationVersion:    <span style=color:#a6e22e>field</span>(fieldName: <span style=color:#e6db74>&#34;ApplicationVersion&#34;</span>)   { <span style=color:#a6e22e>value</span> }
</span></span><span style=display:flex><span>        ApplicationInstance:   <span style=color:#a6e22e>field</span>(fieldName: <span style=color:#e6db74>&#34;ApplicationInstance&#34;</span>)  { <span style=color:#a6e22e>value</span> }
</span></span><span style=display:flex><span>        ApplicationGitCommit:  <span style=color:#a6e22e>field</span>(fieldName: <span style=color:#e6db74>&#34;ApplicationGitCommit&#34;</span>) { <span style=color:#a6e22e>value</span> }
</span></span><span style=display:flex><span>        ServerName:            <span style=color:#a6e22e>field</span>(fieldName: <span style=color:#e6db74>&#34;ServerName&#34;</span>)           { <span style=color:#a6e22e>value</span> }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>gives</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;analyze&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;DeviceClass&#34;</span>:           { <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;Robot&#34;</span> },
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;AgentName&#34;</span>:             { <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;TestApplication&#34;</span> },
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;ApplicationName&#34;</span>:       { <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;TestApplication&#34;</span> },
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;ApplicationVersion&#34;</span>:    { <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;1.2.3&#34;</span> },
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;ApplicationInstance&#34;</span>:   { <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;1234&#34;</span> },
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;ApplicationGitCommit&#34;</span>:  { <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;d71922715c2bfe29343644b14a4731bf5690e66e&#34;</span> },
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;ServerName&#34;</span>:            { <span style=color:#f92672>&#34;value&#34;</span>: <span style=color:#e6db74>&#34;node123.datacenter.example.nl&#34;</span> }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h1 id=version-information>Version information</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span>{
</span></span><span style=display:flex><span>    version {
</span></span><span style=display:flex><span>        gitCommitId
</span></span><span style=display:flex><span>        gitCommitIdDescribeShort
</span></span><span style=display:flex><span>        buildTimeStamp
</span></span><span style=display:flex><span>        projectVersion
</span></span><span style=display:flex><span>        copyright
</span></span><span style=display:flex><span>        license
</span></span><span style=display:flex><span>        url
</span></span><span style=display:flex><span>        buildJDKVersion
</span></span><span style=display:flex><span>        targetJREVersion
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>gives</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;version&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;gitCommitId&#34;</span>: <span style=color:#e6db74>&#34;19e651d9c5a364f8aa8630c47420f47e4b0bcadb&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;gitCommitIdDescribeShort&#34;</span>: <span style=color:#e6db74>&#34;v7.3.0-63-dirty&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;buildTimeStamp&#34;</span>: <span style=color:#e6db74>&#34;2022-08-01T14:45:59Z&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;projectVersion&#34;</span>: <span style=color:#e6db74>&#34;7.3.1-SNAPSHOT&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;copyright&#34;</span>: <span style=color:#e6db74>&#34;Copyright (C) 2013-2022 Niels Basjes&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;license&#34;</span>: <span style=color:#e6db74>&#34;License Apache 2.0&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;url&#34;</span>: <span style=color:#e6db74>&#34;https://yauaa.basjes.nl&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;buildJDKVersion&#34;</span>: <span style=color:#e6db74>&#34;17.0.3&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;targetJREVersion&#34;</span>: <span style=color:#e6db74>&#34;1.8&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><footer class=footline></footer></div></div><div id=navigation></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1663579642></script>
<script src=/js/perfect-scrollbar.min.js?1663579642></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1663579642></script>
<script src=/js/jquery.sticky.js?1663579642></script>
<script src=/js/featherlight.min.js?1663579642></script>
<script src=/js/highlight.pack.js?1663579642></script>
<script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js?1663579642></script>
<script src=/js/learn.js?1663579642></script>
<script src=/js/hugo-learn.js?1663579642></script></body></html>